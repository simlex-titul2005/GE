@model VMEditSeoInfo
@{
    Layout = null;
    var isNew = Model.Id == 0;
}

<h3>Заголовок, описание, ключевые слова материала</h3>

@if (!isNew)
{
    <div class="text-right">
        @using (Ajax.BeginForm(MVC.SeoInfo.DeleteForMaterial(), new AjaxOptions { HttpMethod = "post", UpdateTargetId = "seo" }))
        {
            @Html.AntiForgeryToken()
            <input type="hidden" name="Id" value="@Model.Id" autocomplete="off" />
            <input type="hidden" name="MaterialId" value="@Model.MaterialId" autocomplete="off" />
            <input type="hidden" name="ModelCoreType" value="@Model.ModelCoreType" autocomplete="off" />
            <button type="submit" class="btn btn-danger" onclick="if (!confirm('Удалить теги?')) { return false;}">Удалить</button>
        }
    </div>
}

@if (TempData["ModelSeoInfoRedactInfo"] != null)
{
    <p class="text-success">@TempData["ModelSeoInfoRedactInfo"]</p>
}

@using (Ajax.BeginForm(MVC.SeoInfo.EditForMaterial(), new AjaxOptions { HttpMethod = "post", UpdateTargetId = "seo" }))
{
    @Html.AntiForgeryToken()
    <input type="hidden" name="Id" value="@Model.Id" autocomplete="off" />
    <input type="hidden" name="MaterialId" value="@Model.MaterialId" autocomplete="off" />
    <input type="hidden" name="ModelCoreType" value="@Model.ModelCoreType" autocomplete="off" />


    @Html.Partial(MVC.SeoInfo.Views._GeneralEdit)

    <br />
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Сохранить</button>
            </div>
        </div>
    </div>
}

<div id="seo-kw">
    @if (!isNew)
    {
        @Html.Action(MVC.SeoKeywords.Index(seoInfoId: Model.Id))
    }
</div>