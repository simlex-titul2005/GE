@model VMLastNewsBlock
@{
    Layout = null;
}

<!--last news block-->
<aside class="l-n-b">
    <h2>Последние новости</h2>
    <div class="content">
        <div class="row">
            <div class="col-md-4">
                <ul class="menu">
                    @for (int i = 0; i < Model.NewsLength; i++)
                    {
                        var news = Model.News[i];
                        <li>
                            <a>
                                <span class="date">@news.DateCreate</span> <span class="title">@news.Title</span>
                            </a>
                        </li>
                    }
                </ul>
            </div>
            <div class="col-md-8">
                <ul class="games">
                    @for (int i = 0; i < Model.NewsLength; i++)
                    {
                        var news = Model.News[i];
                        if (news.FrontPictureId.HasValue)
                        {
                            <li @("style=width:"+(100/Math.Round((decimal)Model.NewsLength,4)).ToString().Replace(',','.')+"%")>
                                <a>
                                    <img alt="" src="@Url.Action(MVC.Pictures.Picture((Guid)news.FrontPictureId, height:300))" />
                                </a>
                            </li>
                        }
                    }
                </ul>
            </div>
        </div>
    </div>
</aside>