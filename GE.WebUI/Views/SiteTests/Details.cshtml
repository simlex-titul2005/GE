@model SxVMSiteTestAnswer
@{
    ViewBag.Title = Model.Question!=null && Model.Question.Test!=null ? Model.Question.Test.Title : "Страница прохождения теста";
    ViewBag.H1 = ViewBag.H1 ?? ViewBag.Title;
    ViewBag.Description = ViewBag.Description ?? Model.Question != null && Model.Question.Test!=null ? Model.Question.Test.Description : "Страница прохождения теста";
    ViewBag.Keywords = ViewBag.Keywords ?? "Игровые тесты, тесты для игр";
}

@Html.Partial("_Breadcrumbs", (VMBreadcrumb[])ViewBag.Breadcrumbs)

@if (Model.Question != null && Model.Question.Test!=null)
{
    <div id="st-page">
        @Html.Partial("_Step", Model)
    </div>

    @section scripts{
        <script src="~/content/dist/js/jquery.unobtrusive-ajax.min.js"></script>
        <script>
            $(function () {
                $('#st-page').on('click', '.sx-indicator > span', function () {
                    $span = $(this);
                    var id = $span.closest('li').find('.sx-indicator-txt').attr('data-id');
                    var isCorrect = $span.data('dir') == true;

                    $form = $span.closest('form');
                    $input = $form.find('input[data-q-id="' + id + '"]')
                    $input.val(isCorrect);

                    $form.submit();
                });
            });
        </script>
    }
}