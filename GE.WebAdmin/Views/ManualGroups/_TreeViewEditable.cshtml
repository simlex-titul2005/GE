@model VMManualGroup[]
@{
    Layout = null;
    var maxLevel = (int)ViewBag.MaxTreeViewLevel;
}

@Html.SxTreeView(
    data: Model,
    settings: new SxExtantions.SxTreeViewTreeViewSettings<VMManualGroup>
    {
        FuncChildren = x => x.ChildGroups,
        FuncContent = x => x.Title,
        FuncCreateUrl = () => Url.Action(MVC.ManualGroups.Edit(id: null)),
        FuncCurLevel = x => x.Level,
        FuncEditUrl = x => Url.Action(MVC.ManualGroups.Edit(id: x.Id)),
        MaxLevel = maxLevel,
        FuncSearchUrl = () => Url.Action(MVC.ManualGroups.Index()),
        UpdateTargetId= "mg-tv"
    },
    htmlAttributes: new { @class = "sx-tv table table-condensed table-bordered table-responsive" }
    )