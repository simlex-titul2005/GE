function getCurrency(e,t){var c=$(e).data("currency-cc"),n=parseFloat($(e).data("value").replace(/ /g,""));$.ajax({url:"/valutes/getcurcourse",data:{cc:c},method:"post",beforeSend:function(){$(e).prepend('<i class="fa fa-spinner fa-spin"></i>')},success:function(t){$(e).children("i").remove(),$(e).html(getCurrencyString(Math.round(t.Value*n,0))+' <i class="fa fa-rub"></i>'),$(e).tooltip("destroy")}})}function getCurrencyString(e){return e.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1 ")}$(function(){$("a[data-currency-cc]").each(function(){$(this).tooltip(),$(this).one("click",function(){getCurrency(this)})})});