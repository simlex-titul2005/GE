@using SX.WebCore;
@model SxExtantions.SxPagedCollection<SxHumor>
@{
    ViewBag.Title = ViewBag.Title ?? "Коллекция юмора от " + global_asax.SiteSettingsProvider.Get("siteName");
    ViewBag.H1 = ViewBag.H1 ?? ViewBag.Title;
    ViewBag.Description = ViewBag.Description ?? "Качественная коллекция юмора от " + global_asax.SiteSettingsProvider.Get("siteName");
    ViewBag.Keywords = ViewBag.Description ?? "Анекдоты, смешные истории, розыгрыши, шутки, " + global_asax.SiteSettingsProvider.Get("siteName");
    SxHumor item;
}

@section styles{
    <link href="~/content/dist/css/humor.min.css" rel="stylesheet" />
}

<div id="humor-page">
    @if (Model.Collection.Any())
    {
        <ul class="list-unstyled">
            @for (int i = 0; i < Model.Collection.Length; i++)
            {
                item = Model.Collection[i];
                <li>
                    <div class="humor-list">
                        <h2 class="humor-list__header">@item.Title</h2>
                        <div>
                            @Html.Raw(item.Html)
                        </div>
                        @Html.SxShareButtons(global_asax.ShareButtons, new Dictionary<string, SxExtantions.SxShareButtonsSettings> {
                            {"vk", new SxExtantions.SxShareButtonsSettings { Url= Url.ContentAbsUrl(Url.Action("Details", "Humor")), Title=item.Title, Text=item.Foreword } },
                            {"fb", new SxExtantions.SxShareButtonsSettings { Url=Url.ContentAbsUrl(Url.Action("Details", "Humor")), Title=item.Title, Text=item.Foreword } },
                            {"ok", new SxExtantions.SxShareButtonsSettings { Url=Url.ContentAbsUrl(Url.Action("Details", "Humor")), Title=item.Title, Text=item.Foreword } },
                        })
                    </div>
                </li>
            }
        </ul>
        <div class="text-center">
            @Html.SxPager(Model.PagerInfo, pageUrl: (x) => Url.Action("List", new { page = x }), isAjax: false, htmlAttributes: new { @class = "pagination" })
        </div>
    }
</div>

@section scripts{
    <script src="~/content/dist/js/goodshare.min.js"></script>
}