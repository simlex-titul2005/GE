@model SxExtantions.SxPagedCollection<News>
@{
    var title = ViewBag.Title;
    var h1 = ViewBag.H1;
    ViewBag.Title = title ?? (ViewBag.Tag != null ? "Последние новости c тегом " + (string)ViewBag.Tag : "Новости");
    if (title == null && ViewBag.GameTitle != null)
    {
        ViewBag.Title="Последние новости по игре " + ViewBag.GameTitle;
    }
    ViewBag.H1 = h1 ?? (ViewBag.Tag!=null? "Новости тега "+ (string)ViewBag.Tag : ViewBag.Title);
    ViewBag.H1CssClass = "header";
    ViewBag.Description = ViewBag.Description ?? (ViewBag.Tag != null ? "На данной странице вы сможете найти абсолютно все новости и статьи, которые были написаны авторами нашего сайта по запросу "+ (string)ViewBag.Tag : null);
    if(ViewBag.Description==null && ViewBag.GameTitle != null)
    {
        ViewBag.Description = "На данной странице вы сможете ознакомиться споследними новостями, которые были написаны авторами нашего сайта об игре " + ViewBag.GameTitle;
    }
    ViewBag.Keywords = ViewBag.Keywords ?? ViewBag.GameTitle ?? ViewBag.Tag;
}

@Html.Partial(MVC.Shared.Views._Breadcrumbs, (VMBreadcrumb[])ViewBag.Breadcrumbs)

@Html.Partial(MVC.News.Views._Collection, Model)

@section scripts{
    <script type="text/javascript">
        var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
        $(function () {
            if (width >= 768) {
                alignNews();
            }
        });

        function alignNews() {
            $('.list-news figure').each(function () {
                var $figure = $(this);
                var $news = $figure.closest('.list-news');
                var h = $news.height();
                $figure.height(h);
            });
        }
    </script>
}